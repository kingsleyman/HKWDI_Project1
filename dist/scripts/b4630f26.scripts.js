angular.module("tickeyApp",["firebase"]).config(["$routeProvider",function(a){a.when("/how_to",{templateUrl:"views/how_to.html",controller:"HowToCtrl"}).when("/",{templateUrl:"views/mainCtrl.html",controller:"mainCtrl"}).when("/match_player",{templateUrl:"views/match_player.html",controller:"MatchPlayerCtrl"}).when("/game_board/:id/:mySymbol",{templateUrl:"views/game_board.html",controller:"GameBoardCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("tickeyApp").controller("mainCtrl",["$scope","$rootScope",function(a,b){a.name="Tickety",b.is_how_to_page=!1,b.is_game_board_page=!1}]),angular.module("tickeyApp").controller("HowToCtrl",["$scope","$rootScope",function(a,b){a.name="Tickety",a.how="Lorem ipsum dolor sit amet, consectetuer adipiscing elit, Nam liber tempor cum soluta nobis eleifend option congue nihil imperdiet doming id quod mazim placerat facer possim assum. Typi non habent claritatem insitam; est usus legentis in iis qui facit eorum claritatem. Investigationes demonstraverunt lectores legere me lius quod ii legunt saepius. ",b.is_how_to_page=!0,b.is_game_board_page=!1}]),angular.module("tickeyApp").controller("GameBoardCtrl",["$scope","$rootScope","$routeParams","angularFire",function(a,b,c,d){function e(a,b){return!(b>a||a>b)}a.gameBoardId=c.id,a.mySymbol=c.mySymbol,a.gameBoard=[];var f=new Firebase("https://kingsley.firebaseio.com/waiting_room"+c.id);a.promise=d(f,a,"gameBoard"),a.promise.then(function(){a.gameBoard=[],"x"==c.mySymbol?(console.log("I am First Move: Symbol: "+c.mySymbol),a.myTurn=!0):(console.log("I am Second Move: Symbol: "+c.mySymbol),a.myTurn=!1)}),f.on("value",function(b){a.isOpponentMakingAMove(b)?a.isLosing()||a.isDraw()||(a.myTurn=!0):console.log("same gameboard. do nothing ")}),a.isOpponentMakingAMove=function(b){return!a.myTurn&&!a.isSomeoneCleaningTheBoard(b)&&!e(b.val(),a.gameBoard)},a.isSomeoneCleaningTheBoard=function(a){return null==a.val()},a.handleClick=function(b){a.myTurn&&(a.gameBoard[b]=a.mySymbol,a.isWinning()||a.isDraw()||(a.myTurn=!1))},a.isLosing=function(){return!1},a.isWinning=function(){return!1},a.isDraw=function(){return!1}}]),angular.module("tickeyApp").directive("tickleMe",function(){return{restrict:"A",link:function(a,b){b.bind("click",function(){alert("Don't tickle me")})}}}),angular.module("tickeyApp").controller("MatchPlayerCtrl",["$scope","$rootScope","angularFire","$location",function(a,b,c,d){function e(){return Math.floor(16777215*Math.random()).toString(16)}b.is_match_player_page=!0,a.waitingRoom={};var f=new Firebase("https://kingsley.firebaseio.com/waiting_room");a.promise=c(f,a,"waitingRoom"),a.promise.then(function(){1==a.waitingRoom.xJoined?a.joinWaitingRoom():a.createWaitingRoom()}),a.createWaitingRoom=function(){a.waitingRoom={xJoined:!0,gameBoardNumber:e()},a.noticeMessage="You are x, waiting for an opponent.",f.once("child_removed",function(){d.path("game_board/"+a.waitingRoom.gameBoardNumber+"/x")})},a.joinWaitingRoom=function(){var b=a.waitingRoom.gameBoardNumber;a.waitingRoom={},d.path("game_board/"+b+"o")}}]);